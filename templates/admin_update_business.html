{% extends "admin_base.html" %}

{% block content %}
<main id="main" class="main">
    <h1>Update Business</h1>
    <!-- Fields: business_name, shop_no, phone_number, description, email, is_subscribed, category, business_id -->
    <div class="form-container">
        <form action="{{ url_for('admin.update_business', business_id=business['id']) }}" method="POST">
            <div class="form-group">
                <label for="business_name">Business Name:</label>
                <input type="text" id="business_name" name="business_name" value="{{ business['business_name'] }}" required>
            </div>

            <div class="form-group">
                <label for="shop_no">Shop No:</label>
                <input type="text" id="shop_no" name="shop_no" value="{{ business['shop_no'] }}" required>
            </div>

            <div class="form-group">
                <label for="phone_number">Phone Number:</label>
                <input type="text" id="phone_number" name="phone_number" value="{{ business['phone_number'] }}">
            </div>
            <div class="form-group">
                <label for="category">Business Category:</label>
                <select id="category" name="category" required>
                    {% for category in categories %}
                    <option value="{{ category.name }}" {% if category.name == business['category'] %}selected{% endif %}>{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" value="{{ business['email'] }}">
            </div>

            <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" name="description">{{ business['description'] }}</textarea>
            </div>

            <div class="subscribe-group">
                <label for="is_subscribed" class="subscribe-label">
                    {{ 'Subscribed' if business['is_subscribed'] else 'Not Subscribed' }}:
                </label>
                <input type="checkbox" id="is_subscribed" name="is_subscribed" {% if business['is_subscribed'] %}checked{% endif %}>
            </div>

            <button type="submit" class="btn-submit">Update</button>
        </form>

        <a href="{{ url_for('admin.admin_users') }}" class="btn-back">Back to User Management</a>
    </div>
</main><!-- End #main -->

{% endblock %}
