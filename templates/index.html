{% extends "base.html" %}

{% block content %}

<!-- Carousel Start -->
<div class="container-fluid p-0">
    <div id="header-carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="w-100 hero-small" src="{{ url_for('static', filename='assets/img/hero-small1.png') }}"
                    alt="Image">
                <img class="w-100 hero-big" src="{{ url_for('static', filename='assets/img/hero-big1.png') }}"
                    alt="Image">
                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                    <div class="p-3" style="max-width: 900px;">
                        <h1 class="display-3 text-white mb-md-4 hero-text">HFP EASTLINE SHOPPING COMPLEX BUSINESS DIRECTORY</h1>
                        <a href="{{ url_for('auth.register_business') }}" class="btn py-md-3 px-md-5 mt-2 btn-lg rounded"
                            style="background-color: #040450;color: white;">Get Started</a>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <img class="w-100 hero-small" src="{{ url_for('static', filename='assets/img/hero-small2.png') }}"
                    alt="Image">
                <img class="w-100 hero-big" src="{{ url_for('static', filename='assets/img/hero-big2.png') }}"
                    alt="Image">
                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                    <div class="p-3" style="max-width: 900px;">
                        <h1 class="display-3 text-white mb-md-4">Promote & Elevate Your Brand</h1>
                        <a href="{{ url_for('auth.register_business') }}" class="btn py-md-3 px-md-5 mt-2 btn-lg rounded"
                            style="background-color: #040450;color: white;">Get
                            Started</a>
                    </div>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#header-carousel" data-slide="prev">
            <div class="btn btn-dark" style="width: 45px; height: 45px;">
                <span class="carousel-control-prev-icon mb-n2"></span>
            </div>
        </a>
        <a class="carousel-control-next" href="#header-carousel" data-slide="next">
            <div class="btn btn-dark" style="width: 45px; height: 45px;">
                <span class="carousel-control-next-icon mb-n2"></span>
            </div>
        </a>
    </div>
</div>
<!-- Carousel End -->



<!-- Booking Start -->
<div class="container-fluid booking mt-5 pb-5">
    <div class="container pb-5">
        <div class="search-container shadow">
            <div class="row align-items-center" style="min-height: 60px;">
                <!-- On large screens (lg and above), the input takes 9 columns and the button takes 3 columns -->
                <!-- On smaller screens (sm and below), both take 12 columns, stacking on top of each other -->
                <div class="col-lg-12 col-md-12 mb-3 mb-lg-0">
                    <form action="{{ url_for('business.search_business') }}" method="get">
                        <input type="text" name="search_query"
                            placeholder="Search by category, business name, or shop number" required>
                        <button class="btn btn-primary btn-block" type="submit">Search</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>


<!-- Booking End -->

<!-- Feature Start -->
<div class="container-fluid pb-5">
    <div class="container pb-5">
        <div class="row">
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 100px; width: 100px;">
                        <i class="fa fa-2x fa-chart-line text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        <h5 class="">FIND BY SEARCH/ CATEGORY</h5>
                        <p class="m-0">use search or categories to find the service or products you need or want</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 100px; width: 100px;">
                        <i class="fa fa-2x fa-lightbulb text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        <h5 class="">See Specifics.</h5>
                        <p class="m-0">see the adverts of the products or service to determine what to choose.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="d-flex mb-4 mb-lg-0">
                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-primary mr-3"
                        style="height: 100px; width: 100px;">
                        <i class="fa fa-2x fa-chart-bar text-white"></i>
                    </div>
                    <div class="d-flex flex-column">
                        <h5 class="">LOCATE AND CONNECT.</h5>
                        <p class="m-0">Locate the shop number and phone number of the business, thus achieve connection.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Feature End -->

<!-- Businesses Directory -->
<div class="container-fluid py-5">
    <div class="container pt-5 pb-3">
        <div class="text-center mb-3 pb-3">
            <h2 class="text-dark text-uppercase" style="letter-spacing: 20px;">Explore HFP Businesses</h2>
        </div>
        <div class="row" id="business-container">

            <!---- ------>
            {% if businesses %}
            {{businesses.is_subscribed}}
            {% for business in businesses %}

                <div class="col-lg-4 col-md-4 col-sm-6 col-12 rounded mb-4 store_hei business-item pb-4">
                    <div class="package-item bg-white mb-2 h-100">
                        {% if business.media_type and business.media_url %}
                        {% if business.media_type == 'image' %}
                        <div class="image-container" style="height: 200px; overflow: hidden;">
                            <h6 class="m-0">
                                <i class="fa fa-star text-primary mr-2"
                                    style="position: absolute; text-shadow: 2px 2px 4px rgba(216, 216, 216, 0.5);">
                                    <span>premier</span>
                                </i>
                            </h6>
                            <img src="../{{ business.media_url }}" alt="Business Image" class="img-fluid"
                                style=" width: 100%; height: 100%;">
                        </div>
                        {% elif business.media_type == 'video' %}
                        <div class="image-container" style="height: 200px; overflow: hidden;">
                            <h6 class="m-0">
                                <i class="fa fa-star text-primary mr-2"
                                    style="position: absolute; text-shadow: 2px 2px 4px rgba(216, 216, 216, 0.5);">
                                    <span>premier</span>
                                </i>
                            </h6>
                            <video width="100%" height="100%" controls
                                style=" width: 100%; height: 100%;">
                                <source src="../{{ business.media_url }}" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        </div>
                        {% endif %}
                        {% else %}
                        <div class="image-container" style="height: 200px; overflow: hidden;">
                            <h6 class="m-0">
                                <i class="fa fa-star text-primary mr-2" style="position: absolute;">
                                    <span>premier</span>
                                </i>
                            </h6>
                            <a href="{{ url_for('auth.register_user') }}">
                                <img src="./static/img/dunis_placeholder.png" alt="Business Image"
                                    class="img-fluid rounded" style=" width: 100%; height: 100%;">
                            </a>
                        </div>
                        {% endif %}
                        <div class="p-4">
                            <div class="d-flex justify-content-between mb-3">
                                <small class="m-0"><i class="fa fa-phone-alt text-primary mr-2"></i>{{ business.phone_number }}</small>
                                <small class="m-0"><i class="fa fa-store text-primary mr-2"></i>{{ business.category }}</small>
                            </div>
                            <a class="h5 text-decoration-none"
                                style="display: flex !important; justify-content: center !important; font-weight: bold;"
                                href="#">{{ business.business_name }}</a>
                            <div class="border-top mt-4 pt-4">
                                <div class=""
                                    style="display: flex !important; justify-content: center !important; align-items: center !important;">
                                    <h6 class="m-0"> <span class="text-primary">
                                    <a href='{{business.website_url or business.social_handles}}'> {{business.website_url or business.social_handles or "your-site.com"}} </a>
                                    </span>
                                    </h6>
                                </div>
                                <!---->
                                                            <!-- Claim Button -->
                                {% if business['owner_id'] is none %}
                                <div class="text-center mt-3">
                                    <a href="{{ url_for('auth.register_user') }}" class="btn btn-danger rounded">Register Business</a>
                                </div>
                                {% else %}
                                <div class="text-center mt-3">
                                    <a href="{{ url_for('auth.user_login')}}" class="btn btn-primary rounded">
                                        Location: {{business['block_num']}} | Shop: {{business['shop_no']}}</a>
                                </div>
                                {% endif %}
                                <!---->
                            </div>
                        </div>
                    </div>
                </div>
                
            {% endfor %}
            
            {% else %}
            <div class="col-12">
                <div class="alert alert-info text-center" role="alert"
                    style="background-color: #040450; padding: 10px; color: #fff;">
                    No businesses found for your search.
                </div>
            </div>
            {% endif %}

            <!------- ------>
        </div>
    </div>
</div>
<!-- Businesses Directory -->

<div id="about"></div>

<!-- About Start -->
<div class="container-fluid py-5">
    <div class="container pt-5">
        <div class="row">
            <div class="col-lg-6" style="min-height: 500px;">
                <div class="position-relative h-100">
                    <img class="position-absolute w-100 h-100"
                        src="{{ url_for('static', filename='assets/img/about.png') }}" style="">
                </div>
            </div>
            <div class="col-lg-6 pt-5 pb-lg-5">
                <div class="about-text bg-white p-4 p-lg-5 my-lg-5">
                    <h6 class="text-primary text-uppercase" style="letter-spacing: 5px;">About Us</h6>
                    <h1 class="mb-3">Connecting Businesses and Customers</h1>
                    <p>Our mission is to create a technology platform where businesses in HFP Eastline Shopping Complex can become more visible than ever before and thereby increase their customer patronage.
                    </p>
                    <p><strong>The Best Directory for Your Business Needs:</strong>
                        At Dunis Technologies Limited, we innovate, design and develop user-friendly software applications that helps organisations/business/company enhance and accelerate their operations; 
                        leading to greater revenue, profits and impacts.</p>
                    <div class="row mb-4">
                        <div class="col-6">
                            <img class="img-fluid" src="img/about-1.jpg" alt="">
                        </div>
                        <div class="col-6">
                            <img class="img-fluid" src="img/about-2.jpg" alt="">
                        </div>
                    </div>
                    <a href="{{ url_for('auth.register_business') }}" class="btn btn-primary btn-lg rounded">Get Started</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- About End -->

<style>
    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Adjust opacity here */
        z-index: 1; /* Ensure it sits behind the text */
    }
    
    .container {
        position: relative;
        z-index: 2; /* Ensure text is above the overlay */
    }
    
</style>
<div class="container-fluid bg-registration py-5" style="position: relative; margin: 0px 0;">
    <div class="overlay"></div> <!-- Overlay Div -->
    <div class="container py-5">
        <div class="row">
            <!-- Standard Membership Section -->
            <div class="col-lg-6 mb-5">
                <div class="mb-4">
                    <h2 class="text-white">Standard Membership</h2>
                </div>
                <p class="text-white">Get featured on the page grids and enjoy exclusive benefits.</p>
                <ul class="list-inline text-white m-0">
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i><strong>Get featured on the page grids</strong></li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i><strong>Get personal access account</strong></li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i><strong>Upload banners, videos to advertise your business or event as often as you want</strong></li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i><strong>Quarterly, bi-annual, and yearly subscriptions available</strong></li>
                </ul>
                <a href="{{ url_for('auth.register_business') }}" class="btn btn-lg btn-success rounded">Get Started</a>
            </div>

            <!-- Premium Membership Section -->
            <div class="col-lg-6 mb-5">
                <div class="mb-4">
                    <h2 class="text-white">Premium Membership</h2>
                </div>
                <p class="text-white fw-bold">Get featured at the top and attract more customers with exclusive ads.</p>
                <ul class="list-inline text-white m-0">
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i><strong>Get featured on page sliders in addition to page grids</strong></li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i><strong>Access to admin to submit content or content updates for slider</strong></li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i><strong>Only yearly subscription available</strong></li>
                    <li class="py-2"><i class="fa fa-check text-primary mr-3"></i><strong>Limited space available; only for the first 8 subscribers</strong></li>
                </ul>
                <a href="{{ url_for('auth.register_business') }}" class="btn btn-lg btn-success rounded">Get Started</a>
            </div>
        </div>
    </div>
</div>

<!-- Blog Start -->
<div class="container-fluid py-5">
    <div class="container pt-5 pb-3">
        <div class="text-center mb-3 pb-3">
            <h2 class="text-dark text-uppercase" style="letter-spacing: 20px;">New from the directory</h2>
        </div>
        <div class="row pb-3">
            <div class="col-lg-4 col-md-6 mb-4 pb-2">
                <div class="blog-item">
                    <div class="position-relative">
                        <img class="img-fluid w-100" src="img/blog-1.jpg" alt="">
                        <div class="blog-date">
                            <h6 class="font-weight-bold mb-n1">01</h6>
                            <small class="text-white text-uppercase">Jan</small>
                        </div>
                    </div>
                    <div class="bg-white p-4">
                        <div class="d-flex mb-2">
                            <a class="text-primary text-uppercase text-decoration-none" href=""></a>
                            <span class="text-primary px-2">|</span>
                            <a class="text-primary text-uppercase text-decoration-none" href="">Find Nearby Services</a>
                        </div>
                        <a class="h5 m-0 text-decoration-none" href=""> Explore and connect with businesses right in
                            your area.</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4 pb-2">
                <div class="blog-item">
                    <div class="position-relative">
                        <img class="img-fluid w-100" src="img/blog-2.jpg" alt="">
                        <div class="blog-date">
                            <h6 class="font-weight-bold mb-n1">01</h6>
                            <small class="text-white text-uppercase">Jan</small>
                        </div>
                    </div>
                    <div class="bg-white p-4">
                        <div class="d-flex mb-2">
                            <a class="text-primary text-uppercase text-decoration-none" href=""></a>
                            <span class="text-primary px-2">|</span>
                            <a class="text-primary text-uppercase text-decoration-none" href="">Easy Business
                                Registration</a>
                        </div>
                        <a class="h5 m-0 text-decoration-none" href="">Sign up and start promoting your business in
                            minutes.</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mb-4 pb-2">
                <div class="blog-item">
                    <div class="position-relative">
                        <img class="img-fluid w-100" src="img/blog-3.jpg" alt="">
                        <div class="blog-date">
                            <h6 class="font-weight-bold mb-n1">01</h6>
                            <small class="text-white text-uppercase">Jan</small>
                        </div>
                    </div>
                    <div class="bg-white p-4">
                        <div class="d-flex mb-2">
                            <a class="text-primary text-uppercase text-decoration-none" href="">Admin</a>
                            <span class="text-primary px-2">|</span>
                            <a class="text-primary text-uppercase text-decoration-none" href="">Real Results from Real
                                Clients</a>
                        </div>
                        <a class="h5 m-0 text-decoration-none" href="">Read about how we’ve helped businesses
                            thrive.</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Blog End -->
 
{% endblock %}